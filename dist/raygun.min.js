/*! Raygun4js - v1.4.1 - 2013-12-04
* https://github.com/MindscapeHQ/raygun4js
* Copyright (c) 2013 MindscapeHQ; Licensed MIT */
(function(e,n){"use strict";if(e){var t=e.event.add;e.event.add=function(r,o,i,a,u){var c;return i.handler?(c=i.handler,i.handler=n.wrap(i.handler)):(c=i,i=n.wrap(i)),i.guid=c.guid?c.guid:c.guid=e.guid++,t.call(this,r,o,i,a,u)};var r=e.fn.ready;e.fn.ready=function(e){return r.call(this,n.wrap(e))};var o=e.ajax;e.ajax=function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};for(var i,a=["complete","error","success"];i=a.pop();)e.isFunction(r[i])&&(r[i]=n.wrap(r[i]));try{return o.call(this,t,r)}catch(u){throw n.report(u),u}}}})(window.jQuery,window.TraceKit),function(e,n){function t(e,n,t,r){C.send(r||e.type,{status:n.status,statusText:n.statusText,type:t.type,url:t.url,contentType:t.contentType})}function r(n){e.console&&e.console.log&&v&&e.console.log(n)}function o(){return h&&""!==h?!0:(r("Raygun API key has not been configured, make sure you call Raygun.init(yourApiKey)"),!1)}function i(e,n){var t,r={};for(t in e)r[t]=e[t];for(t in n)r[t]=n[t];return r}function a(e,n){for(var t=0;e.length>t;t++)n.call(null,t,e[t])}function u(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function c(){var n=document.documentElement,t=document.getElementsByTagName("body")[0],r=e.innerWidth||n.clientWidth||t.clientWidth,o=e.innerHeight||n.clientHeight||t.clientHeight;return{width:r,height:o}}function s(n,t){var r=[],o={};n.stack&&n.stack.length&&a(n.stack,function(e,n){r.push({LineNumber:n.line,ClassName:"line "+n.line+", column "+n.column,FileName:n.url,MethodName:n.func||"[anonymous]"})}),e.location.search&&e.location.search.length>1&&a(e.location.search.substring(1).split("&"),function(e,n){var t=n.split("=");t&&2===t.length&&(o[decodeURIComponent(t[0])]=t[1])}),u(t)&&(t=R);var i=e.screen||{width:c().width,height:c().height,colorDepth:8},s={OccurredOn:new Date,Details:{Error:{ClassName:n.name,Message:n.message||t.status+" "+t.url||"Script error",StackTrace:r},Environment:{UtcOffset:(new Date).getTimezoneOffset()/-60,"User-Language":navigator.userLanguage,"Document-Mode":document.documentMode,"Browser-Width":c().width,"Browser-Height":c().height,"Screen-Width":i.width,"Screen-Height":i.height,"Color-Depth":i.colorDepth,Browser:navigator.appCodeName,"Browser-Name":navigator.appName,"Browser-Version":navigator.appVersion,Platform:navigator.platform},Client:{Name:"raygun-js",Version:"1.4.1"},UserCustomData:t,Request:{Url:document.location.href,QueryString:o,Headers:{"User-Agent":navigator.userAgent,Referer:document.referrer,Host:document.domain}},Version:p||"Not supplied"}};f&&(s.Details.User=f),d(s)}function d(e){if(o()){r("Sending exception data to Raygun:",e);var n="https://api.raygun.io/entries?apikey="+encodeURIComponent(h);g(n,JSON.stringify(e))}}function l(n,t){var o;return o=new e.XMLHttpRequest,"withCredentials"in o?o.open(n,t,!0):e.XDomainRequest&&(o=new e.XDomainRequest,o.open(n,t)),o.onload=function(){r("logged error to Raygun")},o.onerror=function(){r("failed to log error to Raygun")},o}function g(e,n){var t=l("POST",e);return t?(t.send(n),void 0):(r("CORS not supported"),void 0)}var h,f,p,m,y=TraceKit.noConflict(),w=e.Raygun,v=!1,R={};n&&(m=n(document));var C={noConflict:function(){return e.Raygun=w,C},init:function(e,n,t){return h=e,y.remoteFetching=!1,R=t,n&&n.debugMode&&(v=n.debugMode),C},withCustomData:function(e){return R=e,C},attach:function(){return o()?(y.report.subscribe(s),m&&m.ajaxError(t),C):void 0},detach:function(){return y.report.unsubscribe(s),m&&m.unbind("ajaxError",t),C},send:function(e,n){try{s(y.computeStackTrace(e),i(R,n))}catch(t){if(e!==t)throw t}return C},setUser:function(e){return f={Identifier:e},C},setVersion:function(e){return p=e,C}};e.Raygun=C}(window,window.jQuery);